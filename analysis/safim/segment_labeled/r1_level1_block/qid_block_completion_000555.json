{
  "segments": [
    {
      "text": "Okay, I need to solve this programming problem. Let's read the problem carefully. The problem is about moving between benches with certain distances. The goal is to find the minimum energy needed to restore to reach the end. So, the initial energy is m, and each step between benches uses up some energy. If at any point the energy is insufficient, we have to sit on a bench and restore. The key is to find the minimal total energy restored. Hmm, the approach here is to track the current energy as we move from bench to bench. For each segment a_i between bench i and i+1, we need to subtract a_i from the current energy.",
      "start_char": 0,
      "end_char": 624,
      "label": "high_level_plan",
      "label_info": {
        "type": "high_level_plan"
      }
    },
    {
      "text": "If after subtracting, the energy is negative, that's how much we need to restore. But wait, how do we model the restorations optimally? Let's think step by step. For each test case, we start with m energy. Then, for each a_i in the list, we have to check if we can traverse that distance.",
      "start_char": 625,
      "end_char": 914,
      "label": "high_level_plan",
      "label_info": {
        "type": "high_level_plan"
      }
    },
    {
      "text": "If after moving, the energy is negative, we need to restore enough to make sure that we can cover all previous segments up to that point. Wait, maybe we should track the cumulative required energy. Wait, maybe the minimal energy to restore is the maximum deficit encountered during the journey. Because each time you reach a bench, you can restore as much as needed.",
      "start_char": 915,
      "end_char": 1282,
      "label": "high_level_plan",
      "label_info": {
        "type": "high_level_plan"
      }
    },
    {
      "text": "So, if at any point your energy goes below zero, you need to restore enough to cover that deficit. But since you can restore at every bench, the optimal strategy is to restore exactly the maximum deficit that you encounter. Because restoring once at that point would cover all previous deficits. Let me see. For example, suppose after the first a_1, the energy is m - a_1. If that's negative, we have to restore that deficit. Then, for the next a_2, the energy is (m - a_1 + restored_energy) - a_2. So, any deficit here would require more restoration. The maximum of all these deficits (initial m minus the sum of a_i's up to that point) is the minimal total needed. Wait, let's model it as the cumulative sum. Let's compute the prefix sums of the a_i array. For each i, sum up a_1 to a_i. Let\u2019s call this s_i. The initial energy is m. After moving past each bench i, the remaining energy is m - s_i. If at any point s_i exceeds m, the deficit is s_i - m. The maximum of these deficits across all i (from 1 to n) is the minimal energy to restore.",
      "start_char": 1283,
      "end_char": 2331,
      "label": "mental_execution",
      "label_info": {
        "type": "mental_execution"
      }
    },
    {
      "text": "Because if that maximum deficit is D, then restoring D at some point before that deficit occurs will cover all previous deficits. Because once you add D, all subsequent steps would have enough energy. For example, in the first test case from the note:\n\nTest case:\nn=3, m=1\na = [1,2,1]\n\nThe prefix sums are 1, 3,4. The initial m is 1. s_1=1: 1-1=0, no deficit. s_2=3: 1-3=-2 \u2192 deficit 2. \ns_3=4: 1-4=-3 \u2192 deficit 3. But the maximum is 3. But according to the note, the answer is 2+1=3?",
      "start_char": 2332,
      "end_char": 2822,
      "label": "mental_execution",
      "label_info": {
        "type": "mental_execution"
      }
    },
    {
      "text": "Wait, the note says that the answer is 3, but according to the sample explanation, they restore 2 at bench 2 and 1 at bench 3. Total is 3.",
      "start_char": 2823,
      "end_char": 2961,
      "label": "code_analysis",
      "label_info": {
        "type": "code_analysis"
      }
    },
    {
      "text": "Which matches the maximum deficit. So the maximum deficit is 3 (from s_3) but the maximum of the individual steps is 3. So the answer should be max(0, max(s_i - m)), but wait, no.",
      "start_char": 2962,
      "end_char": 3141,
      "label": "mental_execution",
      "label_info": {
        "type": "mental_execution"
      }
    },
    {
      "text": "Because the deficit is s_i - m, but if m is greater than s_i, no deficit. So the required is the maximum of (s_i - m) for all i, but only if s_i > m. So the minimal energy to restore is the maximum between 0 and (max(s_i) - m). Because if the sum of all a_i's is less than m, then no restoration is needed. Wait, let's take the third example in the note. The sum of a_i's is 5*1=5. m is 5. So sum is 5, which equals m. So each step's cumulative sum is 1,2,3,4,5. m is 5. So for each s_i: 5 - s_i is 4,3,2,1,0. So none of them are negative. So the maximum deficit is 0, so no restoration needed. So the formula is: compute the maximum of (sum of a_i up to i) for each i, then subtract m. If that maximum sum is <=m, then the answer is 0. Otherwise, the answer is (max_sum - m). So the steps to compute:\n\nFor each test case:\n\n1. Read n and m.\n\n2. Read the array a of size n.\n\n3. Compute the prefix sums. 4. Find the maximum prefix sum. 5. The answer is max(0, max_sum - m). Wait, that's it? Because the maximum deficit is (sum up to some i) which is sum_{1 to i} a_j. If that sum exceeds m, then the deficit is sum - m. The minimal energy to restore is exactly this maximum deficit. Yes!",
      "start_char": 3142,
      "end_char": 4333,
      "label": "mental_execution",
      "label_info": {
        "type": "mental_execution"
      }
    },
    {
      "text": "Because when you reach the bench where the sum is S, and S exceeds m, you need to have restored (S - m) energy before that.",
      "start_char": 4335,
      "end_char": 4458,
      "label": "mental_execution",
      "label_info": {
        "type": "mental_execution"
      }
    },
    {
      "text": "Because each step requires that you have enough energy to cover the a_i. So the maximum of the prefix sums is the critical point. The answer is the maximum between 0 and (max_sum - m). So the code can be written as: For each test case:\n\n- Compute the prefix sums, track the maximum sum. - The answer is max(0, max_sum - m).",
      "start_char": 4459,
      "end_char": 4785,
      "label": "high_level_plan",
      "label_info": {
        "type": "high_level_plan"
      }
    },
    {
      "text": "That's much simpler than I initially thought. So in the code given, the current code reads n and m, then loops n times for a_i. Then outputs max(0, -m), which is incorrect. So the missing code is to read the a_i's, compute the prefix sums, track the maximum, and then compute the result as max(0, max_sum - m). So, inside the for loop where the code says /* TODO: Your code here */, the code should read each a_i, compute the current sum (prefix sum), and track the maximum sum. So:\n\nInitialize sum and max_sum variables. Then for each a_i:\n\nsum += a_i;\n\nif (sum > max_sum) max_sum = sum;\n\nThen, after processing all a_i's, the answer is max(0, max_sum - m). So the code should be:\n\nint sum = 0, max_sum = 0;\n\nThen in the loop:\n\nsum += a; if (sum > max_sum) max_sum = sum;\n\nWait, but in the code, the for loop is written as for(int i=0;i<n;i++) { ... }, and the code is missing. So inside that loop, we need to read each a, add it to the sum, and track the maximum sum. Wait, the code currently reads:\n\nfor(int i=0;i<n;i++) {/* TODO: Your code here */}\n\nSo inside that loop, we need to read a, then accumulate sum and track max_sum. So the code should be:\n\nint sum = 0, max_sum = 0;\n\nfor (int i=0; i < n; i++) {\n\n    cin >> a;\n\n    sum += a;\n\n    if (sum > max_sum) {\n\n        max_sum = sum;\n\n    }\n\n} Then, the answer is max(0, max_sum - m). So in the original code, the output is:\n\ncout << max(0, -m) << endl; But that's incorrect. So the correct line is to output max(0, max_sum - m). Putting it all together. So the missing code is:\n\nInside the loop over the test cases, after reading n and m:\n\nsum = 0, max_sum = 0;\n\nfor (int i=0; i < n; i++) {\n\n    cin >> a;\n\n    sum += a;\n\n    if (sum > max_sum) {\n\n        max_sum = sum;\n\n    }\n\n} Then, output max(0, max_sum - m). So the variables sum and max_sum need to be declared inside the while(t--) loop. In the original code, the variables are not declared. So the code should have:\n\nInside the while loop:\n\ncin >> n >> m;\n\nint sum = 0, max_sum = 0;\n\nfor (int i=0; i <n; i++) {\n\n    cin >> a;\n\n    sum += a;\n\n    max_sum = max(max_sum, sum);\n\n}\n\nThen the output is max(0, max_sum - m). Wait, but in C++ variables need to be declared. So in the code, the original code has a global variable 'a' (as per the line: int t,n,m,a;). But using a global variable for a is okay here. Wait, the code starts with:\n\nint t, n, m, a; So all these are global variables. So inside the for loop, each a is read into the global variable. So in the loop for the a's:\n\nsum += a; // a is the current a_i. Yes. So the code for the missing part is:\n\nsum and max_sum are initialized to 0. Then, for each a_i:\n\nsum += a_i. max_sum is the maximum of sum and current max_sum. Then the answer is max(0, max_sum - m). So the code inside the for loop in the missing part is:\n\nsum += a; if (sum > max_sum) max_sum = sum;\n\nAlternatively, use the max function. So the code to add is:\n\nint sum = 0, max_sum = 0;\n\nfor(int i=0;i<n;i++) {\n\n    cin >> a;\n\n    sum += a;\n\n    max_sum = max(max_sum, sum);\n\n} Then, the output is max(0, max_sum - m). So in the original code, the line after the for loop is:\n\ncout << max(0, -m) << endl;\n\nWhich is wrong. It should be:\n\ncout << max(0, max_sum - m) << endl; So the original code's line needs to be replaced. Putting all together:\n\nThe original code is:\n\n#include <bits/stdc++.h>\nusing namespace std;\nint t,n,m,a;\nint main(){\n  cin>>t;\n  while(t--){\n    cin>>n>>m;\n    for(int i=0;i<n;i++) {/* TODO: Your code here */}\n    cout<<max(0,-m)<<endl;\n  }\n  return 0;\n} The missing code inside the for loop is to read a, sum it, track max_sum. Also, after the loop, output the correct value. So the code to fill in the loop is:\n\nInside the loop over the test cases:\n\nAfter reading n and m:\n\nint sum = 0, max_sum = 0;\n\nfor (int i=0; i <n; i++) {\n\n    cin >> a;\n\n    sum += a;\n\n    if (sum > max_sum) {\n\n        max_sum = sum;\n\n    }\n\n} Then, output max(0, max_sum - m). So in the code, the missing part is the loop body for the for loop. Wait, the original code's for loop is written as for(int i=0;i<n;i++) {/* TODO: Your code here */} \u2014 the code inside that loop must read a_i, accumulate sum, track max_sum. So the code for the for loop is:\n\ncin >> a;\n\nsum += a;\n\nmax_sum = max(max_sum, sum); But sum and max_sum need to be declared. So in the code, after reading n and m, sum and max_sum are declared and initialized to 0.",
      "start_char": 4787,
      "end_char": 9199,
      "label": "bug_fixing",
      "label_info": {
        "type": "bug_fixing"
      }
    },
    {
      "text": "Wait, but the original code's loop is inside the while(t--). So the variables sum and max_sum should be declared inside the loop. So the correct code:\n\nInside the while loop:\n\ncin >> n >> m;\n\nint sum = 0, max_sum = 0;\n\nfor (int i=0; i <n; i++) {\n\n    cin >> a;\n\n    sum += a;\n\n    max_sum = max(max_sum, sum);\n\n}\n\ncout << max(0, max_sum - m) << endl; So, the original code's for loop is missing all this. So the code to add is: In the main function:\n\nwhile(t--) {\n\n    cin >>n>>m;\n\n    int sum=0, max_sum=0;\n\n    for(int i=0;i<n;i++) {\n\n        cin>>a;\n\n        sum +=a;\n\n        if (sum > max_sum) max_sum = sum;\n\n    }\n\n    cout << max(0, max_sum - m) << endl;\n\n} So the original code's for loop needs to have the sum and max_sum calculation. But in the original code's skeleton, the for loop is empty. So the code to fill in is:\n\nInside the for loop in the code's skeleton:\n\nsum += a;\n\nmax_sum = max(max_sum, sum); But how do we read a and sum? Wait, the code in the skeleton is:\n\nfor(int i=0;i<n;i++) {/* TODO: Your code here */}\n\nWe need to read a into the global variable a, then accumulate sum and track max_sum. But sum and max_sum must be declared before the loop. So the complete code inside the main loop is:\n\nAfter reading n and m:\n\nint sum = 0, max_sum = 0;\n\nfor (int i=0; i <n; i++) {\n\n    cin >> a;\n\n    sum += a; if (sum > max_sum) max_sum = sum;\n\n}\n\nThen output max(0, max_sum - m). So the code that needs to be filled in the original skeleton is:\n\nInside the for loop, the code to read a, add to sum, update max_sum. So the missing code is:\n\nThe loop for the a_i's. So inside the for loop of the original code: The user has to read a, add to sum, and track max_sum. So the code inside the for loop is:\n\ncin >> a;\n\nsum += a; if (sum > max_sum) max_sum = sum;\n\nBut sum and max_sum need to be declared before the loop. So in the original code's structure, the code after reading n and m should have:\n\nint sum = 0, max_sum = 0;\n\nfor (int i=0; i <n; i++) {\n\n    cin >> a;\n\n    sum += a;\n\n    max_sum = max(max_sum, sum);\n\n} So the variables sum and max_sum are declared inside the test case loop. Thus, the code that's missing in the original code is:\n\nInside the while loop:\n\ncin >>n >>m;\n\nint sum =0, max_sum=0;\n\nfor (int i=0; i <n; i++) {\n\n    cin >>a;\n\n    sum +=a;\n\n    max_sum = max(max_sum, sum);\n\n}\n\nThen output the correct value. So in the original code, the line that prints max(0,-m) is wrong. It should be replaced with max(0, max_sum -m).",
      "start_char": 9202,
      "end_char": 11688,
      "label": "bug_fixing",
      "label_info": {
        "type": "bug_fixing"
      }
    },
    {
      "text": "Therefore, the missing code is the entire for loop that reads the a_i's, calculates the sum and max_sum, and then the calculation of the result. So the code to replace the original for loop and the output line is:\n\nThe code inside the while loop after reading n and m is:\n\nint sum =0, max_sum=0;\n\nfor(int i=0; i <n; i++) {\n\n    cin >>a;\n\n    sum +=a;\n\n    if (sum > max_sum) max_sum = sum;\n\n}\n\ncout << max(0, max_sum - m) << endl;\n\nSo the missing code is the code inside the for loop (the code that reads a, updates sum and max_sum), and the variables sum and max_sum declared before the loop. Therefore, the correct code to fill in the missing parts is: First, inside the while loop after reading n and m, we declare sum and max_sum. Then, in the for loop, read each a, add to sum, update max_sum. Finally, output the correct value. So the missing code in the original skeleton is:\n\nBetween the line \"cin>>n>>m;\" and the for loop. Wait, the original code's structure is:\n\nwhile(t--) {\n\n    cin>>n>>m;\n\n    for(int i=0;i<n;i++) { /* code to read a_i, sum, track max_sum */ }\n\n    cout << ...;\n\n}\n\nSo the code to fill in is:\n\nInside the for loop, read a_i, accumulate sum, track max_sum. But sum and max_sum must be declared before the loop. So the code inside the while loop is:\n\ncin >>n>>m;\n\nint sum=0, max_sum=0;\n\nfor(int i=0; i <n; i++) {\n\n    cin >>a;\n\n    sum +=a; if (sum > max_sum) max_sum = sum;\n\n}\n\ncout << max(0, max_sum - m) << endl; So the missing code is the lines from 'int sum=0, max_sum=0;' and the for loop's body. But the original code's skeleton already has the for loop. So the code inside the for loop is:\n\ncin >>a;\n\nsum +=a;\n\nmax_sum = max(max_sum, sum); But sum and max_sum must be declared outside the for loop. So the correct code to insert into the original code's skeleton is:\n\nInside the while loop: cin>>n>>m;\n\nint sum=0, max_sum=0;\n\nfor(int i=0; i <n; i++) {\n\n    cin >>a;\n\n    sum += a;\n\n    max_sum = max(max_sum, sum);\n\n}\n\ncout << max(0, max_sum - m) << endl; Yes. So the original code's for loop is replaced with this code. Thus, the missing code parts are:\n\n- Declaring sum and max_sum as 0.\n\n- The for loop's body. - The correct output line. But according to the original code, the output line was 'cout << max(0,-m) << endl;'. So the correct code is to replace that line with 'max(0, max_sum -m)'. Therefore, the complete code for the problem would be:\n\n#include <bits/stdc++.h>\nusing namespace std;\nint t,n,m,a;\nint main(){\n  cin>>t;\n  while(t--){ cin>>n>>m;\n    int sum=0, max_sum=0;\n    for(int i=0;i<n;i++) {\n        cin>>a;\n        sum +=a;\n        if(sum > max_sum) max_sum = sum;\n    }\n    cout<<max(0, max_sum - m)<<endl;\n  }\n  return 0;\n} So the code that needed to be filled in was the lines inside the for loop and the sum and max_sum variables.",
      "start_char": 11690,
      "end_char": 14511,
      "label": "bug_fixing",
      "label_info": {
        "type": "bug_fixing"
      }
    },
    {
      "text": "The original code's missing part was inside the for loop, and the variables sum and max_sum were not declared. So the user's code must declare sum and max_sum, read each a, accumulate sum, track max_sum, then output the correct value.",
      "start_char": 14514,
      "end_char": 14748,
      "label": "bug_fixing",
      "label_info": {
        "type": "bug_fixing"
      }
    },
    {
      "text": "Thus, the missing code to be filled in the original code's skeleton is:\n\nInside the for loop, read a, add to sum, update max_sum. And the sum and max_sum variables are declared before the for loop. The output line uses max(0, max_sum - m). So the correct code to fill in the blanks is: In the original code, the code after cin>>n>>m; is:\n\nfor(int i=0; i <n; i++) { ... }\n\nThen the code prints max(0, ...). So the code that needs to be filled in is:\n\nint sum=0, max_sum=0;\n\nfor (int i=0; i <n; i++) {\n\n    cin >>a;\n\n    sum +=a;\n\n    max_sum = max(max_sum, sum);\n\n} And the output line is max(0, max_sum - m). So the answer is the code inside the while loop after reading n and m, including the for loop and the output line. But according to the problem statement, the user must output only the missing code, not the entire program. The original code has:\n\n#include <bits/stdc++.h>\nusing namespace std;\nint t,n,m,a;\nint main(){\n  cin>>t;\n  while(t--){\n    cin>>n>>m;\n    for(int i=0;i<n;i++) {/* TODO: Your code here */}\n    cout<<max(0,-m)<<endl;\n  }\n  return 0;\n} The missing parts are the code inside the for loop and the variables sum and max_sum. So the code to fill in the for loop and the variables:\n\nBetween the line 'cin>>n>>m;' and the for loop, the variables sum and max_sum are declared and initialized. Then, inside the for loop, the code reads a, adds to sum, and updates max_sum. Finally, the output is corrected. So the missing code parts are: Declare sum and max_sum, read each a, accumulate sum, update max_sum, and compute the correct output. The code that the user needs to fill in is:\n\nInside the while loop: cin>>n>>m;\nint sum=0, max_sum=0;\nfor(int i=0;i<n;i++) {\n    cin >> a;\n    sum += a;\n    max_sum = max(max_sum, sum);\n}\ncout << max(0, max_sum - m) << endl;\n\nBut in the original code, the for loop is present but empty. So the code that needs to be filled is:\n\nAfter the line 'cin>>n>>m;', insert 'int sum=0, max_sum=0;'. Then, inside the for loop, insert:\n\ncin >> a;\n\nsum += a; if (sum > max_sum) max_sum = sum;\n\nBut since the for loop in the original code is written as for(int i=0;i<n;i++) {/* code */}, the code inside the for loop should be:\n\ncin >> a;\n\nsum += a;\n\nmax_sum = max(max_sum, sum);\n\nAnd after the for loop, change the output line. But according to the problem statement, the user should output only the missing code. The original code's skeleton is given, and the user has to fill in the missing parts. The original code's missing parts are:\n\n1. Inside the for loop (reading a_i's and processing).\n\n2.",
      "start_char": 14750,
      "end_char": 17314,
      "label": "bug_fixing",
      "label_info": {
        "type": "bug_fixing"
      }
    },
    {
      "text": "The variables sum and max_sum declared before the loop. 3. The output line. So the code that needs to be filled in is:\n\nThe code inside the for loop and the code before the for loop that declares sum and max_sum, and the output line. But according to the problem's instruction, the user is to output only the missing code.",
      "start_char": 17315,
      "end_char": 17637,
      "label": "code_analysis",
      "label_info": {
        "type": "code_analysis"
      }
    },
    {
      "text": "For example, if the original code has a for loop with a comment to fill in, the user must replace that with the correct code. Looking at the original code:\n\nAfter the line 'cin>>n>>m;', the code is:\n\nfor(int i=0;i<n;i++) {/* TODO: Your code here */}\n\nThen the code outputs max(0, -m). So the code to be filled in is:\n\nBetween 'cin>>n>>m;' and the for loop:\n\nint sum=0, max_sum=0; Then, inside the for loop:\n\ncin>>a;\n\nsum +=a;\n\nmax_sum = max(max_sum, sum);\n\nAnd the output line is:\n\ncout<<max(0, max_sum -m)<<endl; But in the original code, the output line is 'cout<<max(0,-m)<<endl;'. So the user must replace the for loop and the output line. But according to the problem's instruction, the missing code is to be filled in.",
      "start_char": 17641,
      "end_char": 18369,
      "label": "code_analysis",
      "label_info": {
        "type": "code_analysis"
      }
    },
    {
      "text": "The original code's structure is given, and the user must output the missing code, not the entire program. So the missing code is:\n\nThe code that initializes sum and max_sum, the for loop's body, and the corrected output line. So the code to be filled in the original code's skeleton is:\n\nThe line:\n\nint sum=0, max_sum=0;\n\nInside the for loop:\n\ncin>>a; sum +=a; max_sum = max(max_sum, sum); And the output line. But the original code's skeleton is:\n\nfor(int i=0;i<n;i++) {/* TODO: Your code here */} So the code inside the for loop is the three lines. But the variables sum and max_sum must be declared outside the loop. So the user needs to insert:\n\nint sum=0, max_sum=0;\n\nfor(int i=0;i<n;i++) {\n\n    cin >>a;\n\n    sum +=a; if (sum > max_sum) max_sum = sum;\n\n} But the original code's for loop is written as for(int i=0; i <n; i++) { ... }, so the code inside the loop is to read a, sum, and update max_sum.",
      "start_char": 18372,
      "end_char": 19293,
      "label": "code_analysis",
      "label_info": {
        "type": "code_analysis"
      }
    },
    {
      "text": "Thus, the missing code is the code inside the for loop and the sum and max_sum variables declared before it, and the correct output. But how to represent this in the given code. The original code has:\n\nfor(int i=0;i<n;i++) {/* TODO: Your code here */} So the code that needs to be written inside the for loop is the three lines. But the variables sum and max_sum need to be declared before the for loop. Thus, the code that must be filled in is:\n\nInside the while loop: cin>>n>>m;\n\nint sum=0, max_sum=0;\n\nfor(int i=0;i<n;i++) {\n\n    cin >> a;\n\n    sum +=a; if (sum > max_sum) max_sum = sum;\n\n}\n\ncout << max(0, max_sum -m) << endl; So the lines that are added are:\n\nint sum=0, max_sum=0;\n\nfor(int i=0; i <n; i++) { ... } And the cout line. In the original code's structure, the code to be filled is between the lines 'cin>>n>>m;' and the for loop. So the code to output is:\n\nint sum=0, max_sum=0;\n\nfor(int i=0;i<n;i++) {\n\n    cin >> a;\n\n    sum +=a;\n\n    max_sum = max(max_sum, sum);\n\n}\n\ncout << max(0, max_sum - m) << endl;\n\nBut since the original code already has the for loop, perhaps the code inside the for loop is the three lines. But in the original code's skeleton, the for loop is empty. So the code to fill in the for loop's body is:\n\ncin >> a;\n\nsum +=a;\n\nmax_sum = max(max_sum, sum); But sum and max_sum need to be declared before. Thus, the code to be filled in is:\n\nAfter 'cin>>n>>m;', insert 'int sum=0, max_sum=0;'. Inside the for loop:\n\ncin >>a; sum +=a; max_sum = max(max_sum, sum);\n\nAfter the for loop, change the output line. So the complete code for the problem is as follows, but the user must output only the missing code.",
      "start_char": 19295,
      "end_char": 20957,
      "label": "code_analysis",
      "label_info": {
        "type": "code_analysis"
      }
    },
    {
      "text": "The missing code parts are:\n\nThe code that initializes sum and max_sum. The code inside the for loop. The corrected output line. But according to the problem statement, the code given in the user's prompt has certain missing parts, and the user is to fill them in. The output should be only the missing code, not the entire program. Thus, the missing code is the code that should replace the for loop and the output line. The original code's for loop is:\n\nfor(int i=0;i<n;i++) {/* TODO: Your code here */}\n\nThe code to fill in here is:\n\nint sum=0, max_sum=0;\n\nfor(int i=0;i<n;i++) {\n\n    cin >>a;\n\n    sum +=a;\n\n    max_sum = max(max_sum, sum);\n\n}\n\ncout << max(0, max_sum -m) << endl; But the problem is that the original code's for loop is written as for(int i=0; i <n; i++) { ... }, so the code inside the loop must be inside the existing for loop. Wait, no. The original code's structure is:\n\nAfter cin>>n>>m; there is a for loop. But if the code needs to compute sum and max_sum, then the code must be:\n\nInside the loop:\n\nsum and max_sum are declared. Then, the for loop processes each a_i. So the code:\n\nint sum=0, max_sum=0;\n\nfor (int i=0; i <n; i++) {\n\n    cin >>a;\n\n    sum +=a;\n\n    max_sum = max(max_sum, sum);\n\n}\n\nWhich is the code that must be added. But the original code's skeleton has the for loop already. Wait, the original code's skeleton has:\n\nfor(int i=0;i<n;i++) {/* TODO: Your code here */} So the code to fill in is inside this for loop. But sum and max_sum must be declared outside the for loop. Thus, the code that must be written is:\n\nInside the while loop: cin>>n>>m;\n\nint sum=0, max_sum=0;\n\nfor(int i=0; i <n; i++) {\n\n    // code to read a_i, sum, track max_sum\n\n}\n\ncout << ...; So the variables sum and max_sum are declared between the lines 'cin>>n>>m;' and the for loop. Thus, the code to fill in the original skeleton's missing parts is:\n\nAfter 'cin>>n>>m;', declare sum and max_sum. Inside the for loop:\n\nRead a, add to sum, update max_sum. Then, after the loop, output the correct value. So the missing code is:\n\nint sum=0, max_sum=0;\n\nfor(int i=0; i <n; i++) {\n\n    cin >>a;\n\n    sum +=a; if (sum > max_sum) max_sum = sum;\n\n}\n\ncout << max(0, max_sum - m) << endl; Thus, the code that should be filled in the original code's skeleton is:\n\nThe code that replaces the existing for loop and the output line. But in the original code, the for loop is empty. So the code to replace the for loop's body and the code before the loop. But the problem states that the code given is missing certain lines or blocks. The user must fill in those missing parts.",
      "start_char": 20960,
      "end_char": 23570,
      "label": "code_analysis",
      "label_info": {
        "type": "code_analysis"
      }
    },
    {
      "text": "In this case, the code given has a for loop that is empty. So the code inside the for loop and the sum and max_sum variables are missing. Thus, the missing code to be filled in is:\n\nint sum=0, max_sum=0;\n\nfor(int i=0;i<n;i++) {\n\n    cin >>a;\n\n    sum +=a;\n\n    max_sum = max(max_sum, sum);\n\n}\n\ncout << max(0, max_sum - m) << endl; So the user should output these lines as plain text, replacing the existing for loop and output line. In the original code, the lines after 'cin>>n>>m;' are:\n\nfor (int i=0; i <n; i++) { ... }\n\ncout << ...; So the missing code is the code between 'cin>>n>>m;' and the end of the loop. Thus, the answer should be:\n\nint sum=0, max_sum=0;\n\nfor(int i=0;i<n;i++) {\n\n    cin >>a;\n\n    sum +=a; if (sum > max_sum) max_sum = sum;\n\n}\n\ncout << max(0, max_sum - m) << endl; But since the original code already has the for loop structure, perhaps the code to be filled in is the code inside the for loop. Wait, no. The original code's for loop is:\n\nfor(int i=0; i <n; i++) { /* ... */ }\n\nSo the code inside the loop is the code to read a and update sum and max_sum. But sum and max_sum are declared outside the loop. So the correct code is:\n\nint sum=0, max_sum=0;\n\nfor(int i=0; i <n; i++) {\n\n    cin >>a;\n\n    sum +=a;\n\n    if (sum > max_sum) max_sum = sum;\n\n} But the original code's structure is:\n\nfor (int i=0; i <n; i++) { ... } So the code to be filled in is:\n\nInside the loop:\n\ncin >>a;\n\nsum +=a;\n\nif (sum>max_sum) max_sum = sum;\n\nBut sum and max_sum must be declared outside the for loop. Thus, the missing code is:\n\nint sum=0, max_sum=0;\n\nfor(int i=0;i<n;i++) {\n\n    cin >>a;\n\n    sum +=a; if (sum > max_sum) max_sum = sum;\n\n}\n\ncout << max(0, max_sum - m) << endl; So this code replaces the existing for loop and the output line. Thus, the answer is the code between 'cin>>n>>m;' and the end of the while loop. So the missing code is:\n\nint sum=0, max_sum=0;\n\nfor(int i=0;i<n;i++) {\n\n    cin>>a;\n\n    sum +=a;\n\n    if(sum>max_sum) max_sum=sum;\n\n}\n\ncout<<max(0, max_sum -m)<<endl; Yes. That's the code that must be added.",
      "start_char": 23572,
      "end_char": 25643,
      "label": "bug_fixing",
      "label_info": {
        "type": "bug_fixing"
      }
    }
  ],
  "metadata": {
    "state": "test_failed",
    "answer": "int sum=0, max_sum=0;\nfor(int i=0;i<n;i++) {\n    cin>>a;\n    sum +=a;\n    if(sum>max_sum) max_sum=sum;\n}\ncout<<max(0, max_sum -m)<<endl;"
  },
  "original_reasoning": "Okay, I need to solve this programming problem. Let's read the problem carefully.\n\nThe problem is about moving between benches with certain distances. The goal is to find the minimum energy needed to restore to reach the end. So, the initial energy is m, and each step between benches uses up some energy. If at any point the energy is insufficient, we have to sit on a bench and restore. The key is to find the minimal total energy restored.\n\nHmm, the approach here is to track the current energy as we move from bench to bench. For each segment a_i between bench i and i+1, we need to subtract a_i from the current energy. If after subtracting, the energy is negative, that's how much we need to restore. But wait, how do we model the restorations optimally?\n\nLet's think step by step. For each test case, we start with m energy. Then, for each a_i in the list, we have to check if we can traverse that distance. If after moving, the energy is negative, we need to restore enough to make sure that we can cover all previous segments up to that point. Wait, maybe we should track the cumulative required energy.\n\nWait, maybe the minimal energy to restore is the maximum deficit encountered during the journey. Because each time you reach a bench, you can restore as much as needed. So, if at any point your energy goes below zero, you need to restore enough to cover that deficit. But since you can restore at every bench, the optimal strategy is to restore exactly the maximum deficit that you encounter. Because restoring once at that point would cover all previous deficits.\n\nLet me see. For example, suppose after the first a_1, the energy is m - a_1. If that's negative, we have to restore that deficit. Then, for the next a_2, the energy is (m - a_1 + restored_energy) - a_2. So, any deficit here would require more restoration. The maximum of all these deficits (initial m minus the sum of a_i's up to that point) is the minimal total needed.\n\nWait, let's model it as the cumulative sum. Let's compute the prefix sums of the a_i array. For each i, sum up a_1 to a_i. Let\u2019s call this s_i. The initial energy is m. After moving past each bench i, the remaining energy is m - s_i. If at any point s_i exceeds m, the deficit is s_i - m. The maximum of these deficits across all i (from 1 to n) is the minimal energy to restore. Because if that maximum deficit is D, then restoring D at some point before that deficit occurs will cover all previous deficits. Because once you add D, all subsequent steps would have enough energy. \n\nFor example, in the first test case from the note:\n\nTest case:\nn=3, m=1\na = [1,2,1]\n\nThe prefix sums are 1, 3,4. The initial m is 1. \n\ns_1=1: 1-1=0, no deficit. \ns_2=3: 1-3=-2 \u2192 deficit 2. \ns_3=4: 1-4=-3 \u2192 deficit 3. \nBut the maximum is 3. But according to the note, the answer is 2+1=3? Wait, the note says that the answer is 3, but according to the sample explanation, they restore 2 at bench 2 and 1 at bench 3. Total is 3. Which matches the maximum deficit. So the maximum deficit is 3 (from s_3) but the maximum of the individual steps is 3. So the answer should be max(0, max(s_i - m)), but wait, no. Because the deficit is s_i - m, but if m is greater than s_i, no deficit. So the required is the maximum of (s_i - m) for all i, but only if s_i > m. So the minimal energy to restore is the maximum between 0 and (max(s_i) - m). Because if the sum of all a_i's is less than m, then no restoration is needed.\n\nWait, let's take the third example in the note. The sum of a_i's is 5*1=5. m is 5. So sum is 5, which equals m. So each step's cumulative sum is 1,2,3,4,5. m is 5. So for each s_i: 5 - s_i is 4,3,2,1,0. So none of them are negative. So the maximum deficit is 0, so no restoration needed.\n\nSo the formula is: compute the maximum of (sum of a_i up to i) for each i, then subtract m. If that maximum sum is <=m, then the answer is 0. Otherwise, the answer is (max_sum - m).\n\nSo the steps to compute:\n\nFor each test case:\n\n1. Read n and m.\n\n2. Read the array a of size n.\n\n3. Compute the prefix sums.\n\n4. Find the maximum prefix sum.\n\n5. The answer is max(0, max_sum - m).\n\nWait, that's it? Because the maximum deficit is (sum up to some i) which is sum_{1 to i} a_j. If that sum exceeds m, then the deficit is sum - m. The minimal energy to restore is exactly this maximum deficit.\n\nYes! Because when you reach the bench where the sum is S, and S exceeds m, you need to have restored (S - m) energy before that. Because each step requires that you have enough energy to cover the a_i. So the maximum of the prefix sums is the critical point. The answer is the maximum between 0 and (max_sum - m).\n\nSo the code can be written as:\n\nFor each test case:\n\n- Compute the prefix sums, track the maximum sum.\n\n- The answer is max(0, max_sum - m).\n\nThat's much simpler than I initially thought.\n\nSo in the code given, the current code reads n and m, then loops n times for a_i. Then outputs max(0, -m), which is incorrect. So the missing code is to read the a_i's, compute the prefix sums, track the maximum, and then compute the result as max(0, max_sum - m).\n\nSo, inside the for loop where the code says /* TODO: Your code here */, the code should read each a_i, compute the current sum (prefix sum), and track the maximum sum.\n\nSo:\n\nInitialize sum and max_sum variables. Then for each a_i:\n\nsum += a_i;\n\nif (sum > max_sum) max_sum = sum;\n\nThen, after processing all a_i's, the answer is max(0, max_sum - m).\n\nSo the code should be:\n\nint sum = 0, max_sum = 0;\n\nThen in the loop:\n\nsum += a;\n\nif (sum > max_sum) max_sum = sum;\n\nWait, but in the code, the for loop is written as for(int i=0;i<n;i++) { ... }, and the code is missing. So inside that loop, we need to read each a, add it to the sum, and track the maximum sum.\n\nWait, the code currently reads:\n\nfor(int i=0;i<n;i++) {/* TODO: Your code here */}\n\nSo inside that loop, we need to read a, then accumulate sum and track max_sum.\n\nSo the code should be:\n\nint sum = 0, max_sum = 0;\n\nfor (int i=0; i < n; i++) {\n\n    cin >> a;\n\n    sum += a;\n\n    if (sum > max_sum) {\n\n        max_sum = sum;\n\n    }\n\n}\n\nThen, the answer is max(0, max_sum - m).\n\nSo in the original code, the output is:\n\ncout << max(0, -m) << endl;\n\nBut that's incorrect. So the correct line is to output max(0, max_sum - m).\n\nPutting it all together.\n\nSo the missing code is:\n\nInside the loop over the test cases, after reading n and m:\n\nsum = 0, max_sum = 0;\n\nfor (int i=0; i < n; i++) {\n\n    cin >> a;\n\n    sum += a;\n\n    if (sum > max_sum) {\n\n        max_sum = sum;\n\n    }\n\n}\n\nThen, output max(0, max_sum - m).\n\nSo the variables sum and max_sum need to be declared inside the while(t--) loop.\n\nIn the original code, the variables are not declared. So the code should have:\n\nInside the while loop:\n\ncin >> n >> m;\n\nint sum = 0, max_sum = 0;\n\nfor (int i=0; i <n; i++) {\n\n    cin >> a;\n\n    sum += a;\n\n    max_sum = max(max_sum, sum);\n\n}\n\nThen the output is max(0, max_sum - m).\n\nWait, but in C++ variables need to be declared. So in the code, the original code has a global variable 'a' (as per the line: int t,n,m,a;). But using a global variable for a is okay here.\n\nWait, the code starts with:\n\nint t, n, m, a;\n\nSo all these are global variables. So inside the for loop, each a is read into the global variable.\n\nSo in the loop for the a's:\n\nsum += a; // a is the current a_i.\n\nYes.\n\nSo the code for the missing part is:\n\nsum and max_sum are initialized to 0.\n\nThen, for each a_i:\n\nsum += a_i.\n\nmax_sum is the maximum of sum and current max_sum.\n\nThen the answer is max(0, max_sum - m).\n\nSo the code inside the for loop in the missing part is:\n\nsum += a;\n\nif (sum > max_sum) max_sum = sum;\n\nAlternatively, use the max function.\n\nSo the code to add is:\n\nint sum = 0, max_sum = 0;\n\nfor(int i=0;i<n;i++) {\n\n    cin >> a;\n\n    sum += a;\n\n    max_sum = max(max_sum, sum);\n\n}\n\nThen, the output is max(0, max_sum - m).\n\nSo in the original code, the line after the for loop is:\n\ncout << max(0, -m) << endl;\n\nWhich is wrong. It should be:\n\ncout << max(0, max_sum - m) << endl;\n\nSo the original code's line needs to be replaced.\n\nPutting all together:\n\nThe original code is:\n\n#include <bits/stdc++.h>\nusing namespace std;\nint t,n,m,a;\nint main(){\n  cin>>t;\n  while(t--){\n    cin>>n>>m;\n    for(int i=0;i<n;i++) {/* TODO: Your code here */}\n    cout<<max(0,-m)<<endl;\n  }\n  return 0;\n}\n\nThe missing code inside the for loop is to read a, sum it, track max_sum. Also, after the loop, output the correct value.\n\nSo the code to fill in the loop is:\n\nInside the loop over the test cases:\n\nAfter reading n and m:\n\nint sum = 0, max_sum = 0;\n\nfor (int i=0; i <n; i++) {\n\n    cin >> a;\n\n    sum += a;\n\n    if (sum > max_sum) {\n\n        max_sum = sum;\n\n    }\n\n}\n\nThen, output max(0, max_sum - m).\n\nSo in the code, the missing part is the loop body for the for loop. Wait, the original code's for loop is written as for(int i=0;i<n;i++) {/* TODO: Your code here */} \u2014 the code inside that loop must read a_i, accumulate sum, track max_sum.\n\nSo the code for the for loop is:\n\ncin >> a;\n\nsum += a;\n\nmax_sum = max(max_sum, sum);\n\nBut sum and max_sum need to be declared. So in the code, after reading n and m, sum and max_sum are declared and initialized to 0.\n\nWait, but the original code's loop is inside the while(t--). So the variables sum and max_sum should be declared inside the loop.\n\nSo the correct code:\n\nInside the while loop:\n\ncin >> n >> m;\n\nint sum = 0, max_sum = 0;\n\nfor (int i=0; i <n; i++) {\n\n    cin >> a;\n\n    sum += a;\n\n    max_sum = max(max_sum, sum);\n\n}\n\ncout << max(0, max_sum - m) << endl;\n\nSo, the original code's for loop is missing all this.\n\nSo the code to add is:\n\nIn the main function:\n\nwhile(t--) {\n\n    cin >>n>>m;\n\n    int sum=0, max_sum=0;\n\n    for(int i=0;i<n;i++) {\n\n        cin>>a;\n\n        sum +=a;\n\n        if (sum > max_sum) max_sum = sum;\n\n    }\n\n    cout << max(0, max_sum - m) << endl;\n\n}\n\nSo the original code's for loop needs to have the sum and max_sum calculation.\n\nBut in the original code's skeleton, the for loop is empty. So the code to fill in is:\n\nInside the for loop in the code's skeleton:\n\nsum += a;\n\nmax_sum = max(max_sum, sum);\n\nBut how do we read a and sum?\n\nWait, the code in the skeleton is:\n\nfor(int i=0;i<n;i++) {/* TODO: Your code here */}\n\nWe need to read a into the global variable a, then accumulate sum and track max_sum.\n\nBut sum and max_sum must be declared before the loop. So the complete code inside the main loop is:\n\nAfter reading n and m:\n\nint sum = 0, max_sum = 0;\n\nfor (int i=0; i <n; i++) {\n\n    cin >> a;\n\n    sum += a;\n\n    if (sum > max_sum) max_sum = sum;\n\n}\n\nThen output max(0, max_sum - m).\n\nSo the code that needs to be filled in the original skeleton is:\n\nInside the for loop, the code to read a, add to sum, update max_sum.\n\nSo the missing code is:\n\nThe loop for the a_i's. So inside the for loop of the original code:\n\nThe user has to read a, add to sum, and track max_sum.\n\nSo the code inside the for loop is:\n\ncin >> a;\n\nsum += a;\n\nif (sum > max_sum) max_sum = sum;\n\nBut sum and max_sum need to be declared before the loop. So in the original code's structure, the code after reading n and m should have:\n\nint sum = 0, max_sum = 0;\n\nfor (int i=0; i <n; i++) {\n\n    cin >> a;\n\n    sum += a;\n\n    max_sum = max(max_sum, sum);\n\n}\n\nSo the variables sum and max_sum are declared inside the test case loop.\n\nThus, the code that's missing in the original code is:\n\nInside the while loop:\n\ncin >>n >>m;\n\nint sum =0, max_sum=0;\n\nfor (int i=0; i <n; i++) {\n\n    cin >>a;\n\n    sum +=a;\n\n    max_sum = max(max_sum, sum);\n\n}\n\nThen output the correct value.\n\nSo in the original code, the line that prints max(0,-m) is wrong. It should be replaced with max(0, max_sum -m).\n\nTherefore, the missing code is the entire for loop that reads the a_i's, calculates the sum and max_sum, and then the calculation of the result.\n\nSo the code to replace the original for loop and the output line is:\n\nThe code inside the while loop after reading n and m is:\n\nint sum =0, max_sum=0;\n\nfor(int i=0; i <n; i++) {\n\n    cin >>a;\n\n    sum +=a;\n\n    if (sum > max_sum) max_sum = sum;\n\n}\n\ncout << max(0, max_sum - m) << endl;\n\nSo the missing code is the code inside the for loop (the code that reads a, updates sum and max_sum), and the variables sum and max_sum declared before the loop.\n\nTherefore, the correct code to fill in the missing parts is:\n\nFirst, inside the while loop after reading n and m, we declare sum and max_sum.\n\nThen, in the for loop, read each a, add to sum, update max_sum.\n\nFinally, output the correct value.\n\nSo the missing code in the original skeleton is:\n\nBetween the line \"cin>>n>>m;\" and the for loop.\n\nWait, the original code's structure is:\n\nwhile(t--) {\n\n    cin>>n>>m;\n\n    for(int i=0;i<n;i++) { /* code to read a_i, sum, track max_sum */ }\n\n    cout << ...;\n\n}\n\nSo the code to fill in is:\n\nInside the for loop, read a_i, accumulate sum, track max_sum.\n\nBut sum and max_sum must be declared before the loop.\n\nSo the code inside the while loop is:\n\ncin >>n>>m;\n\nint sum=0, max_sum=0;\n\nfor(int i=0; i <n; i++) {\n\n    cin >>a;\n\n    sum +=a;\n\n    if (sum > max_sum) max_sum = sum;\n\n}\n\ncout << max(0, max_sum - m) << endl;\n\nSo the missing code is the lines from 'int sum=0, max_sum=0;' and the for loop's body.\n\nBut the original code's skeleton already has the for loop. So the code inside the for loop is:\n\ncin >>a;\n\nsum +=a;\n\nmax_sum = max(max_sum, sum);\n\nBut sum and max_sum must be declared outside the for loop.\n\nSo the correct code to insert into the original code's skeleton is:\n\nInside the while loop:\n\ncin>>n>>m;\n\nint sum=0, max_sum=0;\n\nfor(int i=0; i <n; i++) {\n\n    cin >>a;\n\n    sum += a;\n\n    max_sum = max(max_sum, sum);\n\n}\n\ncout << max(0, max_sum - m) << endl;\n\nYes. So the original code's for loop is replaced with this code.\n\nThus, the missing code parts are:\n\n- Declaring sum and max_sum as 0.\n\n- The for loop's body.\n\n- The correct output line.\n\nBut according to the original code, the output line was 'cout << max(0,-m) << endl;'. So the correct code is to replace that line with 'max(0, max_sum -m)'.\n\nTherefore, the complete code for the problem would be:\n\n#include <bits/stdc++.h>\nusing namespace std;\nint t,n,m,a;\nint main(){\n  cin>>t;\n  while(t--){\n    cin>>n>>m;\n    int sum=0, max_sum=0;\n    for(int i=0;i<n;i++) {\n        cin>>a;\n        sum +=a;\n        if(sum > max_sum) max_sum = sum;\n    }\n    cout<<max(0, max_sum - m)<<endl;\n  }\n  return 0;\n}\n\nSo the code that needed to be filled in was the lines inside the for loop and the sum and max_sum variables.\n\nThe original code's missing part was inside the for loop, and the variables sum and max_sum were not declared. So the user's code must declare sum and max_sum, read each a, accumulate sum, track max_sum, then output the correct value.\n\nThus, the missing code to be filled in the original code's skeleton is:\n\nInside the for loop, read a, add to sum, update max_sum. And the sum and max_sum variables are declared before the for loop. The output line uses max(0, max_sum - m).\n\nSo the correct code to fill in the blanks is:\n\nIn the original code, the code after cin>>n>>m; is:\n\nfor(int i=0; i <n; i++) { ... }\n\nThen the code prints max(0, ...).\n\nSo the code that needs to be filled in is:\n\nint sum=0, max_sum=0;\n\nfor (int i=0; i <n; i++) {\n\n    cin >>a;\n\n    sum +=a;\n\n    max_sum = max(max_sum, sum);\n\n}\n\nAnd the output line is max(0, max_sum - m).\n\nSo the answer is the code inside the while loop after reading n and m, including the for loop and the output line.\n\nBut according to the problem statement, the user must output only the missing code, not the entire program.\n\nThe original code has:\n\n#include <bits/stdc++.h>\nusing namespace std;\nint t,n,m,a;\nint main(){\n  cin>>t;\n  while(t--){\n    cin>>n>>m;\n    for(int i=0;i<n;i++) {/* TODO: Your code here */}\n    cout<<max(0,-m)<<endl;\n  }\n  return 0;\n}\n\nThe missing parts are the code inside the for loop and the variables sum and max_sum.\n\nSo the code to fill in the for loop and the variables:\n\nBetween the line 'cin>>n>>m;' and the for loop, the variables sum and max_sum are declared and initialized.\n\nThen, inside the for loop, the code reads a, adds to sum, and updates max_sum.\n\nFinally, the output is corrected.\n\nSo the missing code parts are:\n\nDeclare sum and max_sum, read each a, accumulate sum, update max_sum, and compute the correct output.\n\nThe code that the user needs to fill in is:\n\nInside the while loop:\n\ncin>>n>>m;\nint sum=0, max_sum=0;\nfor(int i=0;i<n;i++) {\n    cin >> a;\n    sum += a;\n    max_sum = max(max_sum, sum);\n}\ncout << max(0, max_sum - m) << endl;\n\nBut in the original code, the for loop is present but empty. So the code that needs to be filled is:\n\nAfter the line 'cin>>n>>m;', insert 'int sum=0, max_sum=0;'.\n\nThen, inside the for loop, insert:\n\ncin >> a;\n\nsum += a;\n\nif (sum > max_sum) max_sum = sum;\n\nBut since the for loop in the original code is written as for(int i=0;i<n;i++) {/* code */}, the code inside the for loop should be:\n\ncin >> a;\n\nsum += a;\n\nmax_sum = max(max_sum, sum);\n\nAnd after the for loop, change the output line.\n\nBut according to the problem statement, the user should output only the missing code. The original code's skeleton is given, and the user has to fill in the missing parts.\n\nThe original code's missing parts are:\n\n1. Inside the for loop (reading a_i's and processing).\n\n2. The variables sum and max_sum declared before the loop.\n\n3. The output line.\n\nSo the code that needs to be filled in is:\n\nThe code inside the for loop and the code before the for loop that declares sum and max_sum, and the output line.\n\nBut according to the problem's instruction, the user is to output only the missing code. For example, if the original code has a for loop with a comment to fill in, the user must replace that with the correct code.\n\nLooking at the original code:\n\nAfter the line 'cin>>n>>m;', the code is:\n\nfor(int i=0;i<n;i++) {/* TODO: Your code here */}\n\nThen the code outputs max(0, -m).\n\nSo the code to be filled in is:\n\nBetween 'cin>>n>>m;' and the for loop:\n\nint sum=0, max_sum=0;\n\nThen, inside the for loop:\n\ncin>>a;\n\nsum +=a;\n\nmax_sum = max(max_sum, sum);\n\nAnd the output line is:\n\ncout<<max(0, max_sum -m)<<endl;\n\nBut in the original code, the output line is 'cout<<max(0,-m)<<endl;'.\n\nSo the user must replace the for loop and the output line.\n\nBut according to the problem's instruction, the missing code is to be filled in. The original code's structure is given, and the user must output the missing code, not the entire program.\n\nSo the missing code is:\n\nThe code that initializes sum and max_sum, the for loop's body, and the corrected output line.\n\nSo the code to be filled in the original code's skeleton is:\n\nThe line:\n\nint sum=0, max_sum=0;\n\nInside the for loop:\n\ncin>>a; sum +=a; max_sum = max(max_sum, sum);\n\nAnd the output line.\n\nBut the original code's skeleton is:\n\nfor(int i=0;i<n;i++) {/* TODO: Your code here */}\n\nSo the code inside the for loop is the three lines.\n\nBut the variables sum and max_sum must be declared outside the loop.\n\nSo the user needs to insert:\n\nint sum=0, max_sum=0;\n\nfor(int i=0;i<n;i++) {\n\n    cin >>a;\n\n    sum +=a;\n\n    if (sum > max_sum) max_sum = sum;\n\n}\n\nBut the original code's for loop is written as for(int i=0; i <n; i++) { ... }, so the code inside the loop is to read a, sum, and update max_sum.\n\nThus, the missing code is the code inside the for loop and the sum and max_sum variables declared before it, and the correct output.\n\nBut how to represent this in the given code.\n\nThe original code has:\n\nfor(int i=0;i<n;i++) {/* TODO: Your code here */}\n\nSo the code that needs to be written inside the for loop is the three lines.\n\nBut the variables sum and max_sum need to be declared before the for loop.\n\nThus, the code that must be filled in is:\n\nInside the while loop:\n\ncin>>n>>m;\n\nint sum=0, max_sum=0;\n\nfor(int i=0;i<n;i++) {\n\n    cin >> a;\n\n    sum +=a;\n\n    if (sum > max_sum) max_sum = sum;\n\n}\n\ncout << max(0, max_sum -m) << endl;\n\nSo the lines that are added are:\n\nint sum=0, max_sum=0;\n\nfor(int i=0; i <n; i++) { ... }\n\nAnd the cout line.\n\nIn the original code's structure, the code to be filled is between the lines 'cin>>n>>m;' and the for loop.\n\nSo the code to output is:\n\nint sum=0, max_sum=0;\n\nfor(int i=0;i<n;i++) {\n\n    cin >> a;\n\n    sum +=a;\n\n    max_sum = max(max_sum, sum);\n\n}\n\ncout << max(0, max_sum - m) << endl;\n\nBut since the original code already has the for loop, perhaps the code inside the for loop is the three lines.\n\nBut in the original code's skeleton, the for loop is empty. So the code to fill in the for loop's body is:\n\ncin >> a;\n\nsum +=a;\n\nmax_sum = max(max_sum, sum);\n\nBut sum and max_sum need to be declared before.\n\nThus, the code to be filled in is:\n\nAfter 'cin>>n>>m;', insert 'int sum=0, max_sum=0;'.\n\nInside the for loop:\n\ncin >>a; sum +=a; max_sum = max(max_sum, sum);\n\nAfter the for loop, change the output line.\n\nSo the complete code for the problem is as follows, but the user must output only the missing code.\n\nThe missing code parts are:\n\nThe code that initializes sum and max_sum.\n\nThe code inside the for loop.\n\nThe corrected output line.\n\nBut according to the problem statement, the code given in the user's prompt has certain missing parts, and the user is to fill them in. The output should be only the missing code, not the entire program.\n\nThus, the missing code is the code that should replace the for loop and the output line.\n\nThe original code's for loop is:\n\nfor(int i=0;i<n;i++) {/* TODO: Your code here */}\n\nThe code to fill in here is:\n\nint sum=0, max_sum=0;\n\nfor(int i=0;i<n;i++) {\n\n    cin >>a;\n\n    sum +=a;\n\n    max_sum = max(max_sum, sum);\n\n}\n\ncout << max(0, max_sum -m) << endl;\n\nBut the problem is that the original code's for loop is written as for(int i=0; i <n; i++) { ... }, so the code inside the loop must be inside the existing for loop.\n\nWait, no. The original code's structure is:\n\nAfter cin>>n>>m; there is a for loop.\n\nBut if the code needs to compute sum and max_sum, then the code must be:\n\nInside the loop:\n\nsum and max_sum are declared.\n\nThen, the for loop processes each a_i.\n\nSo the code:\n\nint sum=0, max_sum=0;\n\nfor (int i=0; i <n; i++) {\n\n    cin >>a;\n\n    sum +=a;\n\n    max_sum = max(max_sum, sum);\n\n}\n\nWhich is the code that must be added.\n\nBut the original code's skeleton has the for loop already.\n\nWait, the original code's skeleton has:\n\nfor(int i=0;i<n;i++) {/* TODO: Your code here */}\n\nSo the code to fill in is inside this for loop. But sum and max_sum must be declared outside the for loop.\n\nThus, the code that must be written is:\n\nInside the while loop:\n\ncin>>n>>m;\n\nint sum=0, max_sum=0;\n\nfor(int i=0; i <n; i++) {\n\n    // code to read a_i, sum, track max_sum\n\n}\n\ncout << ...;\n\nSo the variables sum and max_sum are declared between the lines 'cin>>n>>m;' and the for loop.\n\nThus, the code to fill in the original skeleton's missing parts is:\n\nAfter 'cin>>n>>m;', declare sum and max_sum.\n\nInside the for loop:\n\nRead a, add to sum, update max_sum.\n\nThen, after the loop, output the correct value.\n\nSo the missing code is:\n\nint sum=0, max_sum=0;\n\nfor(int i=0; i <n; i++) {\n\n    cin >>a;\n\n    sum +=a;\n\n    if (sum > max_sum) max_sum = sum;\n\n}\n\ncout << max(0, max_sum - m) << endl;\n\nThus, the code that should be filled in the original code's skeleton is:\n\nThe code that replaces the existing for loop and the output line.\n\nBut in the original code, the for loop is empty. So the code to replace the for loop's body and the code before the loop.\n\nBut the problem states that the code given is missing certain lines or blocks. The user must fill in those missing parts.\n\nIn this case, the code given has a for loop that is empty. So the code inside the for loop and the sum and max_sum variables are missing.\n\nThus, the missing code to be filled in is:\n\nint sum=0, max_sum=0;\n\nfor(int i=0;i<n;i++) {\n\n    cin >>a;\n\n    sum +=a;\n\n    max_sum = max(max_sum, sum);\n\n}\n\ncout << max(0, max_sum - m) << endl;\n\nSo the user should output these lines as plain text, replacing the existing for loop and output line.\n\nIn the original code, the lines after 'cin>>n>>m;' are:\n\nfor (int i=0; i <n; i++) { ... }\n\ncout << ...;\n\nSo the missing code is the code between 'cin>>n>>m;' and the end of the loop.\n\nThus, the answer should be:\n\nint sum=0, max_sum=0;\n\nfor(int i=0;i<n;i++) {\n\n    cin >>a;\n\n    sum +=a;\n\n    if (sum > max_sum) max_sum = sum;\n\n}\n\ncout << max(0, max_sum - m) << endl;\n\nBut since the original code already has the for loop structure, perhaps the code to be filled in is the code inside the for loop.\n\nWait, no. The original code's for loop is:\n\nfor(int i=0; i <n; i++) { /* ... */ }\n\nSo the code inside the loop is the code to read a and update sum and max_sum.\n\nBut sum and max_sum are declared outside the loop.\n\nSo the correct code is:\n\nint sum=0, max_sum=0;\n\nfor(int i=0; i <n; i++) {\n\n    cin >>a;\n\n    sum +=a;\n\n    if (sum > max_sum) max_sum = sum;\n\n}\n\nBut the original code's structure is:\n\nfor (int i=0; i <n; i++) { ... }\n\nSo the code to be filled in is:\n\nInside the loop:\n\ncin >>a;\n\nsum +=a;\n\nif (sum>max_sum) max_sum = sum;\n\nBut sum and max_sum must be declared outside the for loop.\n\nThus, the missing code is:\n\nint sum=0, max_sum=0;\n\nfor(int i=0;i<n;i++) {\n\n    cin >>a;\n\n    sum +=a;\n\n    if (sum > max_sum) max_sum = sum;\n\n}\n\ncout << max(0, max_sum - m) << endl;\n\nSo this code replaces the existing for loop and the output line.\n\nThus, the answer is the code between 'cin>>n>>m;' and the end of the while loop.\n\nSo the missing code is:\n\nint sum=0, max_sum=0;\n\nfor(int i=0;i<n;i++) {\n\n    cin>>a;\n\n    sum +=a;\n\n    if(sum>max_sum) max_sum=sum;\n\n}\n\ncout<<max(0, max_sum -m)<<endl;\n\nYes. That's the code that must be added."
}